<!DOCTYPE html>
<html lang="en">

<footer class="footer">
  <div>
    <p class="footer-top">Built using:</p>
    <a href="https://romanzolotarev.com/ssg.html" class="footer-ssg"><b>SSG</b> by Roman Zolotarev</a>
  </div>
  <div>
     <form onsubmit="subscribe()">
       <input type="text" id="name" placeholder="name">
       <input type="email" id="email" placeholder="email address...">
     <input type="submit" value="Subscribe">
</form> 
  <div>
</footer>
<script type="text/javascript">
    function subscribe() {
      event.preventDefault();
      const name = document.querySelector('#name').value;
      const email = document.querySelector('#email').value;
      const subscriber = { name: name, email: email };
      console.log('this is the subscriber', subscriber);
      const url = 'https://e94nqk77ka.execute-api.ap-southeast-2.amazonaws.com/api';
      const options = {
        method: 'POST',
        mode: 'cors',
        cache: 'no-cache',
        headers: { 
          "Content-Type": "application/json", 
          "Access-Control-Allow-Origin": "*"
        },
        body: JSON.stringify(subscriber),
      };
      fetch(url, options)
      .then(res => res.json())
      .then(data => { console.log(subscriber); })
      .catch(err => { console.log(err); });
    };
</script>

</html>
