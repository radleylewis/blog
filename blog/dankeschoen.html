<!DOCTYPE html>
<html lang="en">
<head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />	
	<meta name="viewport" content="width-device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie-edge">
        <meta http-equiv="cache-control" content="no-cache, must-revalidate, post-check=0, pre-check=0" />
	<meta http-equiv="cache-control" content="max-age=0" />
	<meta http-equiv="expires" content="0" />
	<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
	<meta http-equiv="pragma" content="no-cache" />
	<link rel="stylesheet" href="./assets/styles.css">
	<link rel="shortcut icon" type="image/x-icon" href="favicon.png">
	<title>Rad Sidwell-Lewis</title>
</head>

<body>

<nav class="navbar">
  <div class="navbar-left">
    <div>
      <img class="profile-picture" src="./assets/profile-picture.jpeg">
    </div>
    <div>
      <p class="navbar-left-text-top">blog by:</p>
      <a href="/" class="navbar-left-text-bottom">Radley Edward Sidwell-Lewis</a>
    </div>
  </div>
  <ul class="navbar-right">
    <li class="navbar-link"><a target="_blank" href="https://www.instagram.com/radleylewis">Instagram</a></li>
    <li class="navbar-link"><a target="_blank" href="https://youtube.com/channel/UCt7AzHv_-ECbPPF3zsm3BLg">YouTube</a></li>
    <li class="navbar-link"><a target="_blank" href="https://www.github.com/radleylewis">GitHub</a></li>
    <li class="navbar-link"><a target="_blank" href="https://www.twitter.com/RadleyLewis">Twitter</a></li>
    <li class="navbar-link"><a target="_blank" href="mailto: radley.lewis@gmail.com">E-Mail</a></li>
    <li class="navbar-link"><a target="_blank" href="https://www.linkedin.com/in/rad-e-sidwell-lewis">LinkedIn</a></li>
  </ul>
</nav>

</body>
</html>

<!DOCTYPE html>
<html lang="en">

<footer class="footer" onload="checkSubscription()">
  <div>
    <p class="footer-top">Built using:</p>
    <a href="https://romanzolotarev.com/ssg.html" class="footer-ssg"><b>SSG</b> by Roman Zolotarev</a>
  </div>
  <div>
     <form onsubmit="subscribe()" class="subscription-box" id="sub-form">
       <input type="text" id="name" placeholder="name...">
       <input type="email" id="email" placeholder="email address...">
       <input id="subscribe-button"  type="submit" value="Subscribe">
     </form> 
  <div>
</footer>
<script type="text/javascript">
   (function checkSubscription() {
      console.log('checking subscription');
      const subscribed = localStorage.getItem('subscribed');
      if (subscribed) {
         const form = document.getElementById("sub-form");
         form.style.display = "none";
      }; 
   })();
 
   function subscribe() {
      event.preventDefault();
      const name = document.querySelector('#name').value;
      const email = document.querySelector('#email').value;
      const subscriber = { name: name, email: email };
      const url = 'https://e94nqk77ka.execute-api.ap-southeast-2.amazonaws.com/api';
      const options = {
        method: 'POST',
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(subscriber),
      };
      fetch(url, options)
      .then(res => res.json())
      .then(({ subscribed }) => {
         localStorage.setItem('subscribed', true);
         localStorage.setItem('name', name);
         const form = document.getElementById("sub-form");
         form.style.display = "none";
      })
      .catch(err => { console.log(err); });
    };
</script>

</html>
